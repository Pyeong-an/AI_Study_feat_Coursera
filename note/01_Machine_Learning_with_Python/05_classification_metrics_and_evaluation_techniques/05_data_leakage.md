✅ 1️⃣ 데이터 누수(Data Leakage)가 뭐야?
👉 시험 볼 때 컨닝하는 것이랑 비슷해!

✅ 예:

시험 볼 때 문제 답을 미리 알면 100점 맞을 수 있어!

하지만 실제 실력은 아냐.

✅ 모델도 마찬가지:

훈련할 때 원래 알 수 없는 정보를 몰래 쓰면

“너무 잘 맞는” 것처럼 보이지만

실제로는 새로운 데이터에서 틀림

⭐️ 쉽게 말하면!
모델이 몰래 답을 엿보고 공부하면
시험(현실)에서는 틀린다!

✅ 2️⃣ 데이터 누수 예시
✅ 집값 예측할 때

입력: 집 크기, 방 개수

근데 전체 평균 집값을 입력으로 넣음

✅ 문제!

“평균 집값”은 미래 데이터 → 실제 예측할 때 알 수 없음

모델이 답을 미리 훔쳐본 거야

✅ 3️⃣ 데이터 누수의 문제점
✅ 훈련 정확도 → 엄청 높음
✅ 테스트 정확도 → 높아 보임
✅ 실제 배포 → 성능 뚝 떨어짐

✅ 이유:

현실에서는 누수된 정보가 없으니까!

✅ 4️⃣ 데이터 누수 방지 방법
✅ ① 데이터 나누기 철저히!

훈련 / 검증 / 테스트 세트를 겹치지 않게

✅ ② 피처 엔지니어링 주의!

전체 데이터 평균 → 안 됨

미래 정보 → 안 됨

✅ ③ 파이프라인 따로 적용

훈련 데이터로만 평균, 표준화 계산

테스트 데이터는 거기 적용

✅ ④ 시계열 데이터

시간 순서 지켜야 함

과거로 미래 예측해야 함 → 랜덤 분할 금지!

✅ ⑤ 교차검증 시 주의

각 Fold에서 훈련과 검증 분리

파이프라인도 Fold마다 따로 학습

⭐️ 정리
✔️ "시험 문제는 시험에서만 보자"
✔️ "훈련 중에는 미래 정보는 사용 금지!"

✅ 5️⃣ 피처 중요도(Feature Importance)의 해석
👉 모델이 “어떤 입력이 중요한지” 알려주는 값!

✅ 예:

집값 예측에서

집 크기 → 중요도 높음

벽지 색깔 → 중요도 낮음

⭐️ 하지만 함정이 있어!
✅ ① 상관관계 ≠ 인과관계

중요한 피처가 원인이라고 단정하면 안 됨

예) 아이스크림 판매량 ↔ 익사 사고 → 더운 날 때문!

✅ ② 스케일 문제

단위가 크면 중요도도 커질 수 있음

예) m² vs km² → 스케일 맞추기 필수

✅ ③ 상관된 피처

비슷한 정보면 → 중요도가 나눠져서 낮아보임

둘 다 중요한데 과소평가할 수 있음

✅ ④ 상호작용 무시

A와 B는 따로 중요하지 않은데 → A×B는 매우 중요

선형 모델은 이런 걸 못 잡음

✅ ⑤ 모델 종류에 따라 다름

선형 회귀 → 개별 피처만

랜덤포레스트 → 상호작용까지 잘 잡음

⭐️ 장점
✔️ 해석 쉽다
✔️ 중요한 입력을 찾을 수 있음
✔️ 피처 선택에 도움

⭐️ 단점
✘ 인과관계 착각
✘ 스케일 영향
✘ 상관된 피처 왜곡
✘ 상호작용을 못 볼 수도 있음

✅ 6️⃣ 다른 모델링의 함정(Pitfalls)
⭐️ ✅ 피처 선택/변환 안 함
쓰잘데기없는 입력 넣으면 → 성능 뚝!

변환(스케일 맞추기, 로그변환) 필수

✅ 예

m² 단위 → km² 단위 → 스케일 혼란

⭐️ ✅ 잘못된 평가 지표 선택
지표를 잘못 쓰면 → 모델을 잘못 평가

✅ 예

클래스 불균형인데 정확도만 보는 경우

95% 맞춤 → 근데 전부 다 "0"으로 예측!

⭐️ ✅ 클래스 불균형 무시
대부분 0, 소수 1

모델이 무조건 0으로 예측 → 의미 없음

해결: 샘플링, 가중치 조정

⭐️ ✅ 자동화에 맹신
AutoML → 간편

하지만 데이터 이해 없이 쓰면

의미없는 결과

누수, 오류 못 잡음

⭐️ ✅ 인과관계 없는 What-if 시뮬레이션
"A가 이렇게 되면 결과가?"

인과관계가 없으면 → 틀린 예측

✅ 예

신발 크기 늘리면 키가 커질까?

상관관계 있지만 → 인과는 아님!

✅ 7️⃣ 아주 간단한 정리
✅ 데이터 누수란?

시험 답을 미리 보는 것

현실에서는 불가능 → 모델이 못 맞춤

✅ 방지법

훈련/검증/테스트 분리

미래 정보 쓰지 않기

파이프라인 분리

시계열은 시간 순서 유지

교차검증 철저히

✅ 피처 중요도 해석 주의

상관관계 ≠ 인과관계

스케일 맞추기

상호작용 고려

✅ 다른 함정들

불필요한 피처

잘못된 지표

클래스 불균형 무시

자동화에 의존

인과 없는 시뮬레이션

✅ 아주 간단 한 문장 요약!
“모델이 진짜 문제를 잘 풀게 하려면, 컨닝하지 않고, 중요한 정보를 제대로 보고, 함정을 조심하자!”